"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[362],{9889:(e,t,a)=>{a.d(t,{Z:()=>o});var n=a(1519),r=a.n(n)()((function(e){return e[1]}));r.push([e.id,".edit-profile .img-account-profile[data-v-55490afe]{height:10rem}.edit-profile .fade-enter-active[data-v-55490afe],.fade-leave-active[data-v-55490afe]{transition:opacity .5s ease}.edit-profile .fade-enter-from[data-v-55490afe],.fade-leave-to[data-v-55490afe]{opacity:0}.rounded-circle[data-v-55490afe]{border-radius:50%!important}.edit-profile .card[data-v-55490afe]{box-shadow:0 .15rem 1.75rem 0 rgba(33,40,50,.15)}.edit-profile .card .card-header[data-v-55490afe]{font-weight:500}.edit-profile .card-header[data-v-55490afe]:first-child{border-radius:.35rem .35rem 0 0}.edit-profile .card-header[data-v-55490afe]{background-color:rgba(33,40,50,.03);border-bottom:1px solid rgba(33,40,50,.125);margin-bottom:0;padding:1rem 1.35rem}.edit-profile .dataTable-input[data-v-55490afe],.edit-profile form-control[data-v-55490afe]{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-clip:padding-box;background-color:#fff;border:1px solid #c5ccd6;border-radius:.35rem;color:#69707a;display:block;font-size:.875rem;font-weight:400;line-height:1;padding:.875rem 1.125rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;width:100%}.edit-profile .nav-borders .nav-link.active[data-v-55490afe]{border-bottom-color:#0061f2;color:#0061f2}.edit-profile .nav-borders .nav-link[data-v-55490afe]{border-bottom:.125rem solid transparent;color:#69707a;margin-left:1rem;margin-right:1rem;padding:.5rem 0}",""]);const o=r},1519:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var a=e(t);return t[2]?"@media ".concat(t[2]," {").concat(a,"}"):a})).join("")},t.i=function(e,a,n){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(n)for(var o=0;o<this.length;o++){var l=this[o][0];null!=l&&(r[l]=!0)}for(var s=0;s<e.length;s++){var i=[].concat(e[s]);n&&r[i[0]]||(a&&(i[2]?i[2]="".concat(a," and ").concat(i[2]):i[2]=a),t.push(i))}},t}},3379:(e,t,a)=>{var n,r=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},o=function(){var e={};return function(t){if(void 0===e[t]){var a=document.querySelector(t);if(window.HTMLIFrameElement&&a instanceof window.HTMLIFrameElement)try{a=a.contentDocument.head}catch(e){a=null}e[t]=a}return e[t]}}(),l=[];function s(e){for(var t=-1,a=0;a<l.length;a++)if(l[a].identifier===e){t=a;break}return t}function i(e,t){for(var a={},n=[],r=0;r<e.length;r++){var o=e[r],i=t.base?o[0]+t.base:o[0],d=a[i]||0,c="".concat(i," ").concat(d);a[i]=d+1;var u=s(c),m={css:o[1],media:o[2],sourceMap:o[3]};-1!==u?(l[u].references++,l[u].updater(m)):l.push({identifier:c,updater:v(m,t),references:1}),n.push(c)}return n}function d(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var r=a.nc;r&&(n.nonce=r)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var l=o(e.insert||"head");if(!l)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");l.appendChild(t)}return t}var c,u=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function m(e,t,a,n){var r=a?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=u(t,r);else{var o=document.createTextNode(r),l=e.childNodes;l[t]&&e.removeChild(l[t]),l.length?e.insertBefore(o,l[t]):e.appendChild(o)}}function p(e,t,a){var n=a.css,r=a.media,o=a.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var f=null,h=0;function v(e,t){var a,n,r;if(t.singleton){var o=h++;a=f||(f=d(t)),n=m.bind(null,a,o,!1),r=m.bind(null,a,o,!0)}else a=d(t),n=p.bind(null,a,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(a)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=r());var a=i(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<a.length;n++){var r=s(a[n]);l[r].references--}for(var o=i(e,t),d=0;d<a.length;d++){var c=s(a[d]);0===l[c].references&&(l[c].updater(),l.splice(c,1))}a=o}}}},4362:(e,t,a)=>{a.r(t),a.d(t,{default:()=>le});var n=a(821),r=function(e){return(0,n.pushScopeId)("data-v-55490afe"),e=e(),(0,n.popScopeId)(),e},o={class:"edit-profile"},l=r((function(){return(0,n.createElementVNode)("ul",{class:"nav nav-tabs",id:"myTab",role:"tablist"},[(0,n.createElementVNode)("li",{class:"nav-item",role:"presentation"},[(0,n.createElementVNode)("button",{class:"nav-link active",id:"profile-tab","data-bs-toggle":"tab","data-bs-target":"#profile",type:"button",role:"tab","aria-controls":"profile","aria-selected":"true"}," Profile ")]),(0,n.createElementVNode)("li",{class:"nav-item",role:"presentation"},[(0,n.createElementVNode)("button",{class:"nav-link",id:"security-tab","data-bs-toggle":"tab","data-bs-target":"#security",type:"button",role:"tab","aria-controls":"security","aria-selected":"false"}," Security ")])],-1)})),s={class:"tab-content",id:"myTabContent"},i={class:"tab-pane fade active show",id:"profile",role:"tabpanel","aria-labelledby":"profile-tab"},d={class:"container-xl px-4 mt-4"},c=r((function(){return(0,n.createElementVNode)("hr",{class:"mt-0 mb-4"},null,-1)})),u={class:"row"},m={class:"col-xl-4"},p={class:"card mb-4 mb-xl-0"},f=r((function(){return(0,n.createElementVNode)("div",{class:"card-header"},"Profile Picture",-1)})),h={class:"card-body text-center"},v={class:"Avatar w-100"},b={class:"h-100 position-absolute rounded-circle w-100",style:{background:"#28937e1c"}},g=["src"],w=r((function(){return(0,n.createElementVNode)("div",{class:"small font-italic text-muted mb-4"}," JPG or PNG no larger than 5 MB ",-1)})),y={class:"col-xl-8",dir:"rtl"},E={class:"card mb-4"},V={class:"card-header"},N={class:"card-body"},x={class:"mb-3"},_={class:"small mb-1",for:"inputUsername"},P=r((function(){return(0,n.createElementVNode)("span",{class:"text-danger"},"يمكنك تغيير اسم المستخدم مرة واحدة ",-1)})),D={class:"row gx-3 mb-3"},$={class:"col-md-6"},C={class:"small mb-1",for:"inputFirstName"},U={class:"col-md-6"},k={class:"small mb-1",for:"inputLastName"},S={class:"mb-3"},T={class:"small mb-1",for:"inputEmailAddress"},A={class:"row gx-3 mb-3"},M={class:"col-md-6"},I={class:"small mb-1",for:"inputPhone"},B={class:"col-md-6"},F={class:"small mb-1",for:"inputBirthday"},j={class:"tab-pane fade",id:"security",role:"tabpanel","aria-labelledby":"security-tab"},L={class:"container-xl px-4 mt-4"},O=r((function(){return(0,n.createElementVNode)("hr",{class:"mt-0 mb-4"},null,-1)})),Z={class:"row"},z={class:"col-lg-8"},G={class:"card mb-4"},H=r((function(){return(0,n.createElementVNode)("div",{class:"card-header"},"Change Password",-1)})),J={class:"card-body"},R={class:"mb-3"},q={class:"mb-3"},K={class:"mb-3"},Q={class:"col-lg-4"},W={class:"card mb-4"},X=r((function(){return(0,n.createElementVNode)("div",{class:"card-header"},"Delete Account",-1)})),Y={class:"card-body"},ee=r((function(){return(0,n.createElementVNode)("p",null," Deleting your account is a permanent action and cannot be undone. If you are sure you want to delete your account, select the button below. ",-1)}));const te={inject:["w_path"],mounted:function(){this.getUser(this.$attrs.auth_id)},activated:function(){this.getUser(this.$attrs.auth_id)},data:function(){return{username:"",name:"",first_name:"",last_name:"",email:"",phone:"",age:"",show:"",avatar:"",currentPassword:"",newPassword:"",confirmPassword:""}},methods:{getUser:function(e){var t=this;axios.get("user/user/"+e+"/edit").then((function(e){console.log(e.data.profile),e.data&&(t.username=e.data.profile.username,t.first_name=e.data.profile.first_name,t.last_name=e.data.profile.last_name,t.email=e.data.profile.email,t.phone=e.data.profile.phone,t.age=e.data.profile.age,t.avatar=e.data.profile.avatar)})).catch((function(e){}))},UpdateInfo:function(){var e=this,t=new FormData;t.append("username",this.username),t.append("name",this.name),t.append("first_name",this.first_name),t.append("last_name",this.last_name),t.append("email",this.email),t.append("phone",this.phone),t.append("age",this.age),t.append("user_id",this.$attrs.auth_id),t.append("_method","PUT"),axios.post("/user/user/"+this.$attrs.auth_id,t).then((function(t){t.data&&"updated"==t.data&&(e.$refs.status.Display("success"," تم تحديث المعلومات الخاص بك بنجاح سيتم تحديث الصفحة في 2 ث ","تحديث"),setTimeout((function(){window.location.reload()}),2e3),e.getUser(e.$attrs.auth_id))})).catch((function(t){e.$refs.status.Display("danger",t.response.data.message,"status","stop")}))},getAvatar:function(){document.getElementById("avatar").click()},buttonUnable:function(){0!==document.getElementById("avatar").files.length?document.getElementById("UploadAvatar").disabled=!1:document.getElementById("UploadAvatar").disabled=!0},ChangeAvatar:function(){var e=this,t=document.getElementById("avatar").files;if(0!==t.length){var a=new FormData;a.append("update_avatar",!0),a.append("prev_avatar",this.avatar),a.append("new_avatar",t[0]),axios({method:"POST",url:"user/avatar",data:a}).then((function(t){t.data&&"updated"==t.data&&(e.$refs.status.Display("success"," تم تحديث الصورة بنجاح","تحديث"),e.getUser(e.$attrs.auth_id))})).catch((function(e){}))}},changePassword:function(){var e=this,t=new FormData;t.append("currentPassword",this.currentPassword),t.append("newPassword",this.newPassword),t.append("confirmPassword",this.confirmPassword),axios({method:"post",url:"user/password",data:t}).then((function(t){"updated"==t.data&&e.$refs.status.Display("success"," تم تغيير كلمة المرور بنجاح","تحديث"),e.newPassword="",e.currentPassword="",e.confirmPassword=""})).catch((function(t){e.$refs.status.Display("danger",Object.values(t.response.data.errors).toString(),"خطا")}))},deleteAccount:function(){var e=this,t=new FormData;t.append("user_id",this.$attrs.auth_id),t.append("_method","DELETE"),axios.post("user/user/"+this.$attrs.auth_id,t).then((function(t){"Deleted"==t.data.status&&(e.$refs.status.Display(t.data.style,t.data.message,t.data.status,t.data.icon),setTimeout((function(){window.location.href="/home"}),3e3))})).catch((function(e){}))}}};var ae=a(3379),ne=a.n(ae),re=a(9889),oe={insert:"head",singleton:!1};ne()(re.Z,oe);re.Z.locals;const le=(0,a(3744).Z)(te,[["render",function(e,t,a,r,te,ae){var ne=(0,n.resolveComponent)("status"),re=(0,n.resolveComponent)("FormKit");return(0,n.openBlock)(),(0,n.createElementBlock)("div",o,[(0,n.createVNode)(ne,{ref:"status"},null,512),l,(0,n.createElementVNode)("div",s,[(0,n.createElementVNode)("div",i,[(0,n.createElementVNode)("div",d,[c,(0,n.createElementVNode)("div",u,[(0,n.createElementVNode)("div",m,[(0,n.createElementVNode)("div",p,[f,(0,n.createElementVNode)("div",h,[(0,n.createElementVNode)("div",v,[(0,n.createElementVNode)("input",{type:"file",name:"avatar",id:"avatar",hidden:"",onChange:t[0]||(t[0]=function(e){return ae.buttonUnable()})},null,32),(0,n.createElementVNode)("div",{class:"mx-auto position-relative rounded-circle w-50",onMouseenter:t[2]||(t[2]=function(e){return te.show="show_changeAvatar"}),onMouseleave:t[3]||(t[3]=function(e){return te.show=""})},[(0,n.createVNode)(n.Transition,{name:"fade"},{default:(0,n.withCtx)((function(){return[(0,n.withDirectives)((0,n.createElementVNode)("div",b,[(0,n.createElementVNode)("a",{href:"#",class:"end-0 fw-bolder position-absolute text-decoration-none text-white top-50 w-100",onClick:t[1]||(t[1]=function(e){return ae.getAvatar()})},"Change avatar")],512),[[n.vShow,"show_changeAvatar"==te.show]])]})),_:1}),(0,n.createElementVNode)("img",{class:"img-account-profile rounded-circle mb-2 w-100",src:ae.w_path+"/storage/"+this.avatar,alt:""},null,8,g)],32)]),w,(0,n.createElementVNode)("button",{class:"btn btn-primary mt-2",id:"UploadAvatar",disabled:"",onClick:t[4]||(t[4]=function(e){return ae.ChangeAvatar()}),type:"button"}," صورة جديدة ")])])]),(0,n.createElementVNode)("div",y,[(0,n.createElementVNode)("div",E,[(0,n.createElementVNode)("div",V,(0,n.toDisplayString)(e.$t("labels.Account_Details")),1),(0,n.createElementVNode)("div",N,[(0,n.createElementVNode)("form",null,[(0,n.createElementVNode)("div",x,[(0,n.createElementVNode)("label",_,(0,n.toDisplayString)(e.$t("labels.username"))+" (كيف سيظهر اسمك للمستخدمين الآخرين على الموقع )",1),(0,n.withDirectives)((0,n.createElementVNode)("input",{class:"form-control",id:"inputUsername",type:"text",placeholder:"Enter your username","onUpdate:modelValue":t[5]||(t[5]=function(e){return te.username=e})},null,512),[[n.vModelText,te.username]]),P]),(0,n.createElementVNode)("div",D,[(0,n.createElementVNode)("div",$,[(0,n.createElementVNode)("label",C,(0,n.toDisplayString)(e.$t("labels.first_name")),1),(0,n.withDirectives)((0,n.createElementVNode)("input",{class:"form-control",id:"inputFirstName",type:"text",placeholder:"Enter your first name","onUpdate:modelValue":t[6]||(t[6]=function(e){return te.first_name=e})},null,512),[[n.vModelText,te.first_name]])]),(0,n.createElementVNode)("div",U,[(0,n.createElementVNode)("label",k,(0,n.toDisplayString)(e.$t("labels.last_name")),1),(0,n.withDirectives)((0,n.createElementVNode)("input",{class:"form-control",id:"inputLastName",type:"text",placeholder:"Enter your last name","onUpdate:modelValue":t[7]||(t[7]=function(e){return te.last_name=e})},null,512),[[n.vModelText,te.last_name]])])]),(0,n.createElementVNode)("div",S,[(0,n.createElementVNode)("label",T,(0,n.toDisplayString)(e.$t("labels.email")),1),(0,n.withDirectives)((0,n.createElementVNode)("input",{class:"form-control",id:"inputEmailAddress",type:"email",placeholder:"Enter your email address","onUpdate:modelValue":t[8]||(t[8]=function(e){return te.email=e})},null,512),[[n.vModelText,te.email]])]),(0,n.createElementVNode)("div",A,[(0,n.createElementVNode)("div",M,[(0,n.createElementVNode)("label",I,(0,n.toDisplayString)(e.$t("labels.phone")),1),(0,n.withDirectives)((0,n.createElementVNode)("input",{class:"form-control",id:"inputPhone",type:"tel",placeholder:"Enter your phone number","onUpdate:modelValue":t[9]||(t[9]=function(e){return te.phone=e})},null,512),[[n.vModelText,te.phone]])]),(0,n.createElementVNode)("div",B,[(0,n.createElementVNode)("label",F,(0,n.toDisplayString)(e.$t("labels.age")),1),(0,n.withDirectives)((0,n.createElementVNode)("input",{class:"form-control",id:"inputBirthday",type:"text",name:"birthday",placeholder:"Enter your birthday","onUpdate:modelValue":t[10]||(t[10]=function(e){return te.age=e})},null,512),[[n.vModelText,te.age]])])]),(0,n.createElementVNode)("button",{class:"btn btn-primary",type:"button",onClick:t[11]||(t[11]=function(e){return ae.UpdateInfo()})},(0,n.toDisplayString)(e.$t("labels.save_change")),1)])])])])])])]),(0,n.createElementVNode)("div",j,[(0,n.createElementVNode)("div",L,[O,(0,n.createElementVNode)("div",Z,[(0,n.createElementVNode)("div",z,[(0,n.createElementVNode)("div",G,[H,(0,n.createElementVNode)("div",J,[(0,n.createElementVNode)("form",null,[(0,n.createElementVNode)("div",R,[(0,n.createVNode)(re,{type:"password",id:"currentPassword",modelValue:te.currentPassword,"onUpdate:modelValue":t[12]||(t[12]=function(e){return te.currentPassword=e}),label:e.$t("labels.currentPassword"),"label-class":"small mb-1","input-class":"form-control",placeholder:e.$t("labels.currentPassword")},null,8,["modelValue","label","placeholder"])]),(0,n.createVNode)(re,{type:"group"},{default:(0,n.withCtx)((function(){return[(0,n.createElementVNode)("div",q,[(0,n.createVNode)(re,{type:"password",name:"password",modelValue:te.newPassword,"onUpdate:modelValue":t[13]||(t[13]=function(e){return te.newPassword=e}),label:e.$t("labels.newPassword"),"label-class":"small mb-1","input-class":"form-control",placeholder:e.$t("labels.newPassword")},null,8,["modelValue","label","placeholder"])]),(0,n.createElementVNode)("div",K,[(0,n.createVNode)(re,{type:"password",name:"password_confirm",validation:"confirm",modelValue:te.confirmPassword,"onUpdate:modelValue":t[14]||(t[14]=function(e){return te.confirmPassword=e}),"validation-visibilty":"live",label:e.$t("labels.confirmPassword"),"label-class":"small mb-1","input-class":"form-control",placeholder:e.$t("labels.confirmPassword")},null,8,["modelValue","label","placeholder"])])]})),_:1}),(0,n.createElementVNode)("button",{class:"btn btn-primary",onClick:t[15]||(t[15]=function(e){return ae.changePassword()}),type:"button"}," حفظ ")])])])]),(0,n.createElementVNode)("div",Q,[(0,n.createElementVNode)("div",W,[X,(0,n.createElementVNode)("div",Y,[ee,(0,n.createElementVNode)("button",{class:"btn btn-danger-soft text-danger",onClick:t[16]||(t[16]=function(e){return ae.deleteAccount()}),type:"button"}," I understand, delete my account ")])])])])])])])])}],["__scopeId","data-v-55490afe"]])}}]);