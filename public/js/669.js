"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[669],{1211:(e,t,n)=>{n.d(t,{Z:()=>r});var l=n(1519),a=n.n(l)()((function(e){return e[1]}));a.push([e.id,".formkit-messages{color:red}",""]);const r=a},1519:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,l){"string"==typeof e&&(e=[[null,e,""]]);var a={};if(l)for(var r=0;r<this.length;r++){var i=this[r][0];null!=i&&(a[i]=!0)}for(var o=0;o<e.length;o++){var c=[].concat(e[o]);l&&a[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},3379:(e,t,n)=>{var l,a=function(){return void 0===l&&(l=Boolean(window&&document&&document.all&&!window.atob)),l},r=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),i=[];function o(e){for(var t=-1,n=0;n<i.length;n++)if(i[n].identifier===e){t=n;break}return t}function c(e,t){for(var n={},l=[],a=0;a<e.length;a++){var r=e[a],c=t.base?r[0]+t.base:r[0],s=n[c]||0,d="".concat(c," ").concat(s);n[c]=s+1;var u=o(d),p={css:r[1],media:r[2],sourceMap:r[3]};-1!==u?(i[u].references++,i[u].updater(p)):i.push({identifier:d,updater:g(p,t),references:1}),l.push(d)}return l}function s(e){var t=document.createElement("style"),l=e.attributes||{};if(void 0===l.nonce){var a=n.nc;a&&(l.nonce=a)}if(Object.keys(l).forEach((function(e){t.setAttribute(e,l[e])})),"function"==typeof e.insert)e.insert(t);else{var i=r(e.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}return t}var d,u=(d=[],function(e,t){return d[e]=t,d.filter(Boolean).join("\n")});function p(e,t,n,l){var a=n?"":l.media?"@media ".concat(l.media," {").concat(l.css,"}"):l.css;if(e.styleSheet)e.styleSheet.cssText=u(t,a);else{var r=document.createTextNode(a),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(r,i[t]):e.appendChild(r)}}function m(e,t,n){var l=n.css,a=n.media,r=n.sourceMap;if(a?e.setAttribute("media",a):e.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(l+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleSheet)e.styleSheet.cssText=l;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(l))}}var f=null,h=0;function g(e,t){var n,l,a;if(t.singleton){var r=h++;n=f||(f=s(t)),l=p.bind(null,n,r,!1),a=p.bind(null,n,r,!0)}else n=s(t),l=m.bind(null,n,t),a=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return l(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;l(e=t)}else a()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=a());var n=c(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var l=0;l<n.length;l++){var a=o(n[l]);i[a].references--}for(var r=c(e,t),s=0;s<n.length;s++){var d=o(n[s]);0===i[d].references&&(i[d].updater(),i.splice(d,1))}n=r}}}},5669:(e,t,n)=>{n.r(t),n.d(t,{default:()=>C});var l=n(821),a={class:"add_recipe bg-white mb-5 mx-auto p-3 rounded shadow w-75",dir:"rtl"},r=(0,l.createElementVNode)("h3",{class:"text-center text-info"},[(0,l.createElementVNode)("span",{class:"fa fa-plus-circle m-1 font-1"}),(0,l.createTextVNode)("اضافة وصفة جديدة ")],-1),i={key:0},o=(0,l.createElementVNode)("label",{for:"type",class:"text-weight-800 mt-3 mb-1"},"اختر نوع الوصفة :",-1),c=["value"],s=(0,l.createElementVNode)("hr",null,null,-1),d={class:"ingredients border-bottom",dir:"rtl"},u={key:0,class:"table table-bordered table-hover table-white w-50 bg-white",dir:"rtl"},p=(0,l.createElementVNode)("thead",null,[(0,l.createElementVNode)("tr",null,[(0,l.createElementVNode)("th",{scope:"col",class:"text-center"},"المكونات"),(0,l.createElementVNode)("th",{scope:"col",class:"text-center"},"الكمية"),(0,l.createElementVNode)("th",{scope:"col",class:"text-center"},"الحذف")])],-1),m={class:"text-center"},f={class:"text-center"},h={class:"text-center"},g=["onClick"],v={key:1,class:"d-flex w-50 align-items-center"},b={class:"align-items-center d-flex justify-content-start"},_=(0,l.createElementVNode)("p",{class:"fs-3 fw-bolder m-1 text-black-50 text-weight-500"},"اضافة مكونات",-1),y={class:"images mt-4"},V={class:"how_todo mt-4"},w=(0,l.createElementVNode)("span",{class:"fa fa-plus-circle m-2 text-white"},null,-1);const x={inject:["w_path"],mounted:function(){this.getTypeRecipes()},activated:function(){this.clearForm(),this.erros_recipe=[]},deactivated:function(){},data:function(){return{update_recipe:"",update_recipe_id:"",name_recipe:"",source_recipe:"",url_video:[],level:"",selected_type:"",types_recipe:[],ingredients:[],images:[],how_todo:"",show_inputs:"",erros_recipe:[],Addable:!1}},methods:{clearForm:function(e){0==this.erros_recipe.length&&(this.name_recipe="",this.source_recipe="",this.url_video="",this.selected_type="",document.getElementById("files").value=null,document.getElementById("head_file").value=null,this.ingredients=[],this.how_todo="",this.update_recipe="",this.update_recipe_id="")},getTypeRecipes:function(){var e=this;axios({method:"get",url:"types_recipe"}).then((function(t){if(t.data)for(var n=0;n<t.data.length;n++){var l=t.data[n];e.types_recipe.push(l)}})).catch((function(e){}))},add_ingredient_table:function(){var e=document.getElementById("ingredient_name").value,t=document.getElementById("ingredient_quantity").value;0!=e.length&&0!=t.length&&(this.ingredients.push({name_ingredient:e,quantity:t}),document.getElementById("ingredient_name").value="",document.getElementById("ingredient_quantity").value="")},removeFromtable:function(e){this.ingredients.splice(e)},add_recipe:function(){var e=this,t=!1,n=new FormData,l=document.getElementById("files").files,a=document.getElementById("head_file").files[0];if(void 0!==a&&(n.append("head_image",a),t=!0),l.length>4||null==l)this.$refs.status.Display("warning","لا يكمن اختيار اكثر من 3 صور ","خطا في الصور "),t=!1;else{for(var r=0;r<l.length;r++)n.append("image_"+r,l[r]);t=!0}n.append("ingredients",JSON.stringify(this.ingredients)),n.append("name",this.name_recipe),n.append("source",this.source_recipe),n.append("url_video",this.url_video),n.append("selected_type",this.selected_type),n.append("how_todo",this.how_todo),n.append("level",this.level),!0===t&&axios.post("recipe",n).then((function(t){if(t.data){e.erros_recipe=[];var n=t.data;e.$refs.status.Display(n.class,n.message,n.status),n.message&&e.clearForm(),e.erros_recipe=""}})).catch((function(t){t.response.data.message&&e.$refs.status.Display("danger",t.response.data.message,"تحذير")}))}}};var N=n(3379),E=n.n(N),k=n(1211),B={insert:"head",singleton:!1};E()(k.Z,B);k.Z.locals;const C=(0,n(3744).Z)(x,[["render",function(e,t,n,x,N,E){var k=this,B=(0,l.resolveComponent)("status"),C=(0,l.resolveComponent)("FormKit");return(0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,null,[(0,l.createVNode)(B,{ref:"status"},null,512),(0,l.createElementVNode)("h1",null,(0,l.toDisplayString)(this.update_recipe_id),1),(0,l.createElementVNode)("div",a,[r,this.erros_recipe?((0,l.openBlock)(),(0,l.createElementBlock)("div",i,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(this.erros_recipe,(function(e){return(0,l.openBlock)(),(0,l.createElementBlock)("div",{class:"alert alert-danger",key:e},[(0,l.createElementVNode)("li",null,(0,l.toDisplayString)(e[0]),1)])})),128))])):(0,l.createCommentVNode)("",!0),(0,l.createVNode)(C,{type:"form",actions:!1},{default:(0,l.withCtx)((function(){return[(0,l.createVNode)(C,{type:"text",name:"name",modelValue:N.name_recipe,"onUpdate:modelValue":t[0]||(t[0]=function(e){return N.name_recipe=e}),"input-class":"form-control mt-2",label:"اسم الوصفة :","label-class":"text-weight-800",help:"اسم الوصفة لا يجب ان يحتوي علي ارقام","help-class":"text-black-50",validation:"required"},null,8,["modelValue"]),(0,l.createVNode)(C,{type:"text",name:"source",modelValue:N.source_recipe,"onUpdate:modelValue":t[1]||(t[1]=function(e){return N.source_recipe=e}),"input-class":"form-control","outer-class":" mt-3",label:"المصدر :","label-class":"text-weight-800",help:"مصدر الوصفة او اسم الشيف","help-class":"text-black-50",validation:"required"},null,8,["modelValue"]),o,(0,l.withDirectives)((0,l.createElementVNode)("select",{class:"form-select",validate:"required","onUpdate:modelValue":t[2]||(t[2]=function(e){return N.selected_type=e}),id:"select_type","aria-label":"Default select example"},[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(k.types_recipe,(function(e){return(0,l.openBlock)(),(0,l.createElementBlock)("option",{value:e.id,key:e.e},(0,l.toDisplayString)(e.type),9,c)})),128))],512),[[l.vModelSelect,N.selected_type]]),(0,l.createVNode)(C,{type:"url",value:"www.youtube.com",name:"video",modelValue:N.url_video,"onUpdate:modelValue":t[3]||(t[3]=function(e){return N.url_video=e}),"input-class":"form-control","outer-class":" mt-3",label:"مقطع الفيديو :","label-class":"text-weight-800",help:"يجب ان يكون الرابط من اليوتيوب ","help-class":"text-black-50",validation:""},null,8,["modelValue"]),s]})),_:1}),(0,l.createVNode)(C,{type:"form",actions:!1},{default:(0,l.withCtx)((function(){return[(0,l.createElementVNode)("div",d,[0!==N.ingredients.length?((0,l.openBlock)(),(0,l.createElementBlock)("table",u,[p,(0,l.createElementVNode)("tbody",null,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(N.ingredients,(function(e,t){return(0,l.openBlock)(),(0,l.createElementBlock)("tr",{id:"table_ingredients",key:e},[(0,l.createElementVNode)("td",m,(0,l.toDisplayString)(e.name_ingredient),1),(0,l.createElementVNode)("td",f,(0,l.toDisplayString)(e.quantity),1),(0,l.createElementVNode)("td",h,[(0,l.createElementVNode)("i",{class:"fa fa-circle-minus font-3 text-danger pointer",onClick:function(e){return E.removeFromtable(t)},"aria-hidden":"true"},null,8,g)])])})),128))])])):(0,l.createCommentVNode)("",!0),"add_ingredient_table"==N.show_inputs?((0,l.openBlock)(),(0,l.createElementBlock)("div",v,[(0,l.createVNode)(C,{type:"text",id:"ingredient_name",name:"ingredient","input-class":"form-control mt-2","outer-class":"ms-3 border-start p-1","label-class":"text-weight-800",help:"اسم المكون","help-class":"text-black-50",validation:"required"}),(0,l.createVNode)(C,{type:"text",name:"quantity",id:"ingredient_quantity","input-class":"form-control mt-2","outer-class":"ms-3 p-1","label-class":"text-weight-800",help:"الكمية باالغارم (g)","help-class":"text-black-50",onKeydown:(0,l.withKeys)(E.add_ingredient_table,["enter"]),validation:"required"},null,8,["onKeydown"]),(0,l.createElementVNode)("button",{type:"button",class:"fa fa-2x fa-check-circle text-success pointer border-0 bg-transparent",onClick:t[4]||(t[4]=function(e){return E.add_ingredient_table()}),onKeyup:t[5]||(t[5]=(0,l.withKeys)((function(){return E.add_ingredient_table&&E.add_ingredient_table.apply(E,arguments)}),["enter"]))},null,32)])):(0,l.createCommentVNode)("",!0),(0,l.createElementVNode)("div",b,[_,(0,l.createElementVNode)("span",null,[(0,l.createElementVNode)("i",{onClick:t[6]||(t[6]=function(e){return N.show_inputs="add_ingredient_table"}),class:"border fa fa-2 fa-plus-circle font-3 rounded-circle text-bg-info text-white m-1 pointer","aria-hidden":"true"})])])])]})),_:1}),(0,l.createVNode)(C,{type:"text",name:"level",modelValue:N.level,"onUpdate:modelValue":t[7]||(t[7]=function(e){return N.level=e}),"input-class":"form-control mt-2",label:"مستوي الصوفة :","label-class":"text-weight-800",help:"الحقل الافتراضي هو (مبتدئ)","help-class":"text-black-50",placeholder:"مبدئ -متوسط - صعب",validation:"required"},null,8,["modelValue"]),(0,l.createElementVNode)("div",y,[(0,l.createVNode)(C,{type:"file",id:"head_file",name:"files",label:"الصورة الرئيسبة :","label-class":"text-weight-500","file-remove-class":"btn btn-primary m-2","input-class":"form-control mt-2",validation:"required|file"}),(0,l.createVNode)(C,{type:"file",id:"files",multiple:"",name:"files",label:"الصور :","label-class":"text-weight-500","file-remove-class":"btn btn-primary m-2","input-class":"form-control mt-2",validation:"required|file"})]),(0,l.createVNode)(C,{type:"form",actions:!1},{default:(0,l.withCtx)((function(){return[(0,l.createElementVNode)("div",V,[(0,l.createVNode)(C,{type:"textarea",label:"طريقة التحضير","label-class":"font-3 mb-2 text-weight-800",modelValue:N.how_todo,"onUpdate:modelValue":t[8]||(t[8]=function(e){return N.how_todo=e}),"input-class":"form-control",rows:"10",validation:"required|length:25",placeholder:"مثال: لدينا اولا مزج البيض مع الفرينة",help:"يجب ان لا يقل النص 200 حرف ","help-class":"text-black-50"},null,8,["modelValue"])]),(0,l.createVNode)(C,{type:"button","input-class":"btn btn-primary mt-2",onClick:t[9]||(t[9]=function(e){return E.add_recipe()})},{default:(0,l.withCtx)((function(){return[(0,l.createTextVNode)("اضافة الوصفة"),w]})),_:1})]})),_:1})])],64)}]])}}]);