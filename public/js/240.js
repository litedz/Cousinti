"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[240],{6592:(e,t,n)=>{n.d(t,{Z:()=>i});var a=n(1519),r=n.n(a)()((function(e){return e[1]}));r.push([e.id,"",""]);const i=r},1519:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,a){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(a)for(var i=0;i<this.length;i++){var l=this[i][0];null!=l&&(r[l]=!0)}for(var o=0;o<e.length;o++){var c=[].concat(e[o]);a&&r[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},3379:(e,t,n)=>{var a,r=function(){return void 0===a&&(a=Boolean(window&&document&&document.all&&!window.atob)),a},i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),l=[];function o(e){for(var t=-1,n=0;n<l.length;n++)if(l[n].identifier===e){t=n;break}return t}function c(e,t){for(var n={},a=[],r=0;r<e.length;r++){var i=e[r],c=t.base?i[0]+t.base:i[0],s=n[c]||0,d="".concat(c," ").concat(s);n[c]=s+1;var u=o(d),p={css:i[1],media:i[2],sourceMap:i[3]};-1!==u?(l[u].references++,l[u].updater(p)):l.push({identifier:d,updater:g(p,t),references:1}),a.push(d)}return a}function s(e){var t=document.createElement("style"),a=e.attributes||{};if(void 0===a.nonce){var r=n.nc;r&&(a.nonce=r)}if(Object.keys(a).forEach((function(e){t.setAttribute(e,a[e])})),"function"==typeof e.insert)e.insert(t);else{var l=i(e.insert||"head");if(!l)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");l.appendChild(t)}return t}var d,u=(d=[],function(e,t){return d[e]=t,d.filter(Boolean).join("\n")});function p(e,t,n,a){var r=n?"":a.media?"@media ".concat(a.media," {").concat(a.css,"}"):a.css;if(e.styleSheet)e.styleSheet.cssText=u(t,r);else{var i=document.createTextNode(r),l=e.childNodes;l[t]&&e.removeChild(l[t]),l.length?e.insertBefore(i,l[t]):e.appendChild(i)}}function m(e,t,n){var a=n.css,r=n.media,i=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}var f=null,h=0;function g(e,t){var n,a,r;if(t.singleton){var i=h++;n=f||(f=s(t)),a=p.bind(null,n,i,!1),r=p.bind(null,n,i,!0)}else n=s(t),a=m.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return a(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;a(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=r());var n=c(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var a=0;a<n.length;a++){var r=o(n[a]);l[r].references--}for(var i=c(e,t),s=0;s<n.length;s++){var d=o(n[s]);0===l[d].references&&(l[d].updater(),l.splice(d,1))}n=i}}}},6240:(e,t,n)=>{n.r(t),n.d(t,{default:()=>j});var a=n(821),r={key:0,class:"text-center"},i=[(0,a.createElementVNode)("h1",{class:"bg-white p-3 rounded text-muted"},"Please Select Recipe for Update",-1)],l={key:1,class:"update-recipe bg-light mx-auto mb-5 p-3 rounded w-75",dir:"rtl"},o=(0,a.createElementVNode)("h3",{class:"text-center text-info"},[(0,a.createElementVNode)("span",{class:"fa fa-refresh m-1 font-1"}),(0,a.createTextVNode)("تحديث الوصفة ")],-1),c={key:0},s=(0,a.createElementVNode)("label",{for:"type",class:"text-weight-800 mt-3 mb-1"},"اختر نوع الوصفة :",-1),d=["value"],u=(0,a.createElementVNode)("hr",null,null,-1),p={class:"ingredients border-bottom",dir:"rtl"},m={key:0,class:"table table-bordered table-hover table-white w-50 bg-white",dir:"rtl"},f=(0,a.createElementVNode)("thead",null,[(0,a.createElementVNode)("tr",null,[(0,a.createElementVNode)("th",{scope:"col",class:"text-center"},"المكونات"),(0,a.createElementVNode)("th",{scope:"col",class:"text-center"},"الكمية"),(0,a.createElementVNode)("th",{scope:"col",class:"text-center"},"الحذف")])],-1),h={class:"text-center"},g={class:"text-center"},_={class:"text-center"},v=["onClick"],y={key:1,class:"d-flex w-50 align-items-center"},b={class:"d-flex justify-content-start"},k=(0,a.createElementVNode)("p",{class:"m-1 text-black-50 text-weight-500"}," اضافة مكونات ",-1),w={class:"images mt-4"},x=["onClick"],V=["src"],E={class:"otherImages d-flex"},N={key:0},B=["onClick"],C=["src"],I={class:"how_todo mt-4"},S=(0,a.createElementVNode)("span",{class:"fa fa-plus-circle m-2 text-white"},null,-1);const q={inject:["w_path"],mounted:function(){this.getTypesRecipes(),this.update_recipe_id=this.$attrs.update_recipe_id},activated:function(){this.getRecipe(this.$attrs.update_recipe_id)},deactivated:function(){},data:function(){return{update_recipe:"",update_recipe_id:0,name_recipe:"",source_recipe:"",url_video:"",selected_type:"",types_recipe:[],ingredients:[],images:[],how_todo:"",erros_recipe:[],show_inputs:""}},methods:{getRecipe:function(e){var t=this;e&&axios({method:"get",url:"recipe/"+e}).then((function(e){var n=e.data.recipe;document.getElementById("select_type").options;n&&(t.update_recipe=n,t.name_recipe=n.name,t.selected_type=n.type_recipe.id,t.url_video=null==n.url_video?"":"https://www.youtube.com/"+n.url_video,t.ingredients=n.ingredient,t.how_todo=n.how_todo,t.images=n.images_recipe,document.getElementById("select_type"))})).catch((function(e){}))},getTypesRecipes:function(){var e=this;axios({method:"get",url:"types_recipe"}).then((function(t){t.data&&(e.types_recipe=t.data)})).catch((function(e){}))},add_ingredient_table:function(){var e=document.getElementById("ingredient_name").value,t=document.getElementById("ingredient_quantity").value;0!=e.length&&0!=t.length&&(this.ingredients.push({name_ingredient:e,quantity:t}),document.getElementById("ingredient_name").value="",document.getElementById("ingredient_quantity").value="")},removeFromtable:function(e){this.ingredients.splice(e)},add_recipe:function(){var e=this,t=new FormData,n=!1,a=document.getElementById("files").files,r=document.getElementById("head_file").files[0];if(void 0!==r&&(t.append("head_image",r),n=!0),a.length<4){for(var i=0;i<a.length;i++)t.append("image_"+i,a[i]);n=!0}else this.$refs.status.Display("warning","","لا يكمن اختيار اكثر من 3 صور "),n=!1;t.append("ingredients",JSON.stringify(this.ingredients)),t.append("name",this.name_recipe),t.append("source",this.source_recipe),t.append("url_video",this.url_video),t.append("selected_type",this.selected_type),t.append("how_todo",this.how_todo),this.update_recipe_id>0&&t.append("update_recipe_id",this.update_recipe_id),!0===n&&axios({method:"post",url:"recipe/"+this.update_recipe_id,data:t}).then((function(t){if(t.data){var n=t.data;e.$refs.status.Display(n.class,n.message,n.status),e.erros_recipe="",e.getRecipe(e.update_recipe_id)}})).catch((function(t){var n=t.response.data;e.$refs.status.Display("danger",n.message,"خطاء")}))},clearForm:function(e){"add-recipe"==e&&0==this.erros_recipe.length&&(this.name_recipe="",this.source_recipe="",this.url_video="",this.ingredients={},this.how_todo="",this.update_recipe="",this.update_recipe_id="")},removeOtherImage:function(e){var t=this;axios({method:"delete",url:"recipe/image/"+e}).then((function(e){if(e.data){var n=e.data;t.$refs.status.Display(n.class,n.message,n.status),t.getRecipe(t.update_recipe_id)}})).catch((function(e){}))}}};var F=n(3379),D=n.n(F),T=n(6592),R={insert:"head",singleton:!1};D()(T.Z,R);T.Z.locals;const j=(0,n(3744).Z)(q,[["render",function(e,t,n,q,F,D){var T=this,R=(0,a.resolveComponent)("status"),j=(0,a.resolveComponent)("FormKit");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(R,{ref:"status"},null,512),0==this.$attrs.update_recipe_id.length?((0,a.openBlock)(),(0,a.createElementBlock)("div",r,i)):((0,a.openBlock)(),(0,a.createElementBlock)("div",l,[o,this.erros_recipe?((0,a.openBlock)(),(0,a.createElementBlock)("div",c,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(this.erros_recipe,(function(e){return(0,a.openBlock)(),(0,a.createElementBlock)("div",{class:"alert alert-danger",key:e},[(0,a.createElementVNode)("li",null,(0,a.toDisplayString)(e[0]),1)])})),128))])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(j,{type:"form",actions:!1},{default:(0,a.withCtx)((function(){return[(0,a.createVNode)(j,{type:"text",name:"name",value:"ma9roud",modelValue:F.name_recipe,"onUpdate:modelValue":t[0]||(t[0]=function(e){return F.name_recipe=e}),"input-class":"form-control mt-2",label:"اسم الوصفة :","label-class":"text-weight-800",help:"اسم الوصفة لا يجب ان يحتوي علي ارقام","help-class":"text-black-50",validation:"required"},null,8,["modelValue"]),(0,a.createVNode)(j,{type:"text",value:"oum walid",name:"source",modelValue:F.source_recipe,"onUpdate:modelValue":t[1]||(t[1]=function(e){return F.source_recipe=e}),"input-class":"form-control","outer-class":" mt-3",label:"المصدر :","label-class":"text-weight-800",help:"مصدر الوصفة او اسم الشيف","help-class":"text-black-50",validation:"required"},null,8,["modelValue"]),s,(0,a.withDirectives)((0,a.createElementVNode)("select",{class:"form-select",validate:"required","onUpdate:modelValue":t[2]||(t[2]=function(e){return F.selected_type=e}),id:"select_type"},[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(T.types_recipe,(function(e){return(0,a.openBlock)(),(0,a.createElementBlock)("option",{value:e.id,key:e},(0,a.toDisplayString)(e.type),9,d)})),128))],512),[[a.vModelSelect,F.selected_type]]),(0,a.createVNode)(j,{type:"text",value:"www.youtube.com",name:"video",modelValue:F.url_video,"onUpdate:modelValue":t[3]||(t[3]=function(e){return F.url_video=e}),"input-class":"form-control","outer-class":" mt-3",label:"مقطع الفيديو :","label-class":"text-weight-800",help:"","help-class":"text-black-50",validation:""},null,8,["modelValue"]),u]})),_:1}),(0,a.createVNode)(j,{type:"form",actions:!1},{default:(0,a.withCtx)((function(){return[(0,a.createElementVNode)("div",p,[0!==F.ingredients.length?((0,a.openBlock)(),(0,a.createElementBlock)("table",m,[f,(0,a.createElementVNode)("tbody",null,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(F.ingredients,(function(e,t){return(0,a.openBlock)(),(0,a.createElementBlock)("tr",{id:"table_ingredients",key:e},[(0,a.createElementVNode)("td",h,(0,a.toDisplayString)(e.name_ingredient),1),(0,a.createElementVNode)("td",g,(0,a.toDisplayString)(e.quantity),1),(0,a.createElementVNode)("td",_,[(0,a.createElementVNode)("i",{class:"fa fa-circle-minus font-3 text-danger pointer",onClick:function(e){return D.removeFromtable(t)},"aria-hidden":"true"},null,8,v)])])})),128))])])):(0,a.createCommentVNode)("",!0),"add_ingredient_table"==F.show_inputs?((0,a.openBlock)(),(0,a.createElementBlock)("div",y,[(0,a.createVNode)(j,{type:"text",id:"ingredient_name",name:"ingredient","input-class":"form-control mt-2","outer-class":"ms-3 border-start p-1","label-class":"text-weight-800",help:"اسم المكون","help-class":"text-black-50",validation:"required"}),(0,a.createVNode)(j,{type:"text",name:"quantity",id:"ingredient_quantity","input-class":"form-control mt-2","outer-class":"ms-3 p-1","label-class":"text-weight-800",help:"الكمية باالغارم (g)","help-class":"text-black-50",onKeydown:(0,a.withKeys)(D.add_ingredient_table,["enter"]),validation:"required|number"},null,8,["onKeydown"]),(0,a.createVNode)(j,{type:"button",onClick:t[4]||(t[4]=function(e){return D.add_ingredient_table()}),onKeyup:(0,a.withKeys)(D.add_ingredient_table,["enter"]),actions:!1,"input-class":"fa fa-2x fa-check-circle text-success pointer  border-0 bg-transparent"},null,8,["onKeyup"])])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",b,[k,(0,a.createElementVNode)("span",null,[(0,a.createElementVNode)("i",{onClick:t[5]||(t[5]=function(e){return F.show_inputs="add_ingredient_table"}),class:"border fa fa-2 fa-plus-circle font-3 rounded-circle text-bg-info text-white m-1 pointer","aria-hidden":"true"})])])])]})),_:1}),(0,a.createElementVNode)("div",w,[(0,a.createVNode)(j,{type:"file",id:"head_file",name:"files",label:"الصورة الرئيسبة :","label-class":"text-weight-500","file-remove-class":"btn btn-primary m-2","input-class":"form-control mt-2",validation:"file"}),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(F.images,(function(e){return(0,a.openBlock)(),(0,a.createElementBlock)("div",{class:"headImage position-relative",key:e},[(0,a.createElementVNode)("li",{class:"m-1 bg-light fa fa-remove font-3 position-absolute px-1 rounded-circle text-danger top-0 pointer",onClick:function(t){return D.removeOtherImage(e.id)}},null,8,x),(0,a.createElementVNode)("img",{class:"w-25",src:D.w_path+"/storage/recipes/"+T.update_recipe.images_recipe[0].name},null,8,V)])})),128)),(0,a.createVNode)(j,{type:"file",id:"files",multiple:"",name:"files",label:"الصور :","label-class":"text-weight-500","file-remove-class":"btn btn-primary m-2","input-class":"form-control mt-2",validation:"file"}),(0,a.createElementVNode)("div",E,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(this.update_recipe.images_recipe,(function(e){return(0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e,class:"position-relative"},["active"!==e.cover?((0,a.openBlock)(),(0,a.createElementBlock)("div",N,[0!==e.length?((0,a.openBlock)(),(0,a.createElementBlock)("li",{key:0,class:"m-1 bg-light fa fa-remove font-3 position-absolute px-1 rounded-circle text-danger top-0 pointer",onClick:function(t){return D.removeOtherImage(e.id)}},null,8,B)):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("img",{class:"rounded",style:{width:"250px",height:"150px"},src:T.w_path+"/storage/recipes/"+e.name},null,8,C)])):(0,a.createCommentVNode)("",!0)])})),128))])]),(0,a.createVNode)(j,{type:"form",actions:!1},{default:(0,a.withCtx)((function(e){var n=e.state.valid;return[(0,a.createElementVNode)("div",I,[(0,a.createVNode)(j,{type:"textarea",label:"طريقة التحضير","label-class":"font-3 mb-2 text-weight-800",modelValue:F.how_todo,"onUpdate:modelValue":t[6]||(t[6]=function(e){return F.how_todo=e}),"input-class":"form-control",rows:"10",validation:"required|length:25",placeholder:"مثال: لدينا اولا مزج البيض مع الفرينة",help:"يجب ان لا يقل النص 200 حرف ","help-class":"text-black-50"},null,8,["modelValue"])]),(0,a.createVNode)(j,{type:"button","input-class":"btn btn-primary mt-2",disabled:!n,onClick:t[7]||(t[7]=function(e){return D.add_recipe()})},{default:(0,a.withCtx)((function(){return[(0,a.createTextVNode)("تحديث الوصفة"),S]})),_:2},1032,["disabled"])]})),_:1})]))],64)}]])}}]);