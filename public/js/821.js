"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[821],{4821:(e,t,a)=>{a.r(t),a.d(t,{default:()=>_e});var l=a(821),c={class:"recipes-list"},s=(0,l.createElementVNode)("h1",{class:"border-bottom"},"Recipes Table",-1),r={class:"bg-white d-grid"},n={class:"filter mb-1 rounded-1 text-white",style:{background:"slategray"}},o={class:"w-100"},i={class:"row"},d={class:"col border-end"},u={class:"p-2"},p=(0,l.createElementVNode)("div",{class:"fs-4 text-black-50 title"},"Filter By Status",-1),m={class:"d-flex flex-column"},f={class:"border-bottom d-flex gap-1 justify-content-between w-50"},h=(0,l.createElementVNode)("label",{class:"form-check-label",for:"flexRadioDefault1"}," Approuved ",-1),V={class:"d-flex gap-1 justify-content-between w-50"},E=(0,l.createElementVNode)("label",{class:"form-check-label",for:"flexRadioDefault2"}," Deny ",-1),N={class:"col border-end"},y={class:"p-2"},v=(0,l.createElementVNode)("div",{class:"fs-4 text-black-50 title"},"Filter By Username",-1),b=(0,l.createElementVNode)("label",{for:"name"},null,-1),x={class:"col border-end"},k={class:"p-2"},g=(0,l.createElementVNode)("div",{class:"fs-4 text-black-50 title"},"Filter Date",-1),D=(0,l.createElementVNode)("label",{for:"Date"},null,-1),w=(0,l.createElementVNode)("div",null," To",-1),_=["disabled"],S={class:"col border-end"},R={class:"p-2"},B=(0,l.createElementVNode)("div",{class:"fs-4 text-black-50 title"},"Filter By Sing Up",-1),C={class:"d-flex flex-column"},F={class:"border-bottom d-flex gap-1 justify-content-between w-75"},K=(0,l.createElementVNode)("label",{class:"form-check-label",for:"flexRadioDefault3"}," News Recipes ",-1),z={class:"d-flex gap-1 justify-content-between w-75"},j=(0,l.createElementVNode)("label",{class:"form-check-label",for:"flexRadioDefault4"}," Old Recipes ",-1),T={class:"col border-end"},A={class:"p-2"},O=(0,l.createElementVNode)("div",{class:"fs-4 text-black-50 title"},"Filter By Level",-1),U={class:"d-flex flex-column"},L={class:"d-flex gap-2"},M=(0,l.createElementVNode)("label",{class:"form-check-label"},"Level ",-1),P=["checked"],$={class:"col border-end"},q={class:"p-2"},W=(0,l.createElementVNode)("div",{class:"fs-4 text-black-50 title"},"Filter By Author",-1),Z={class:"d-flex flex-column"},G={class:"d-flex gap-2"},H=(0,l.createElementVNode)("label",{class:"form-check-label"},"Author ",-1),I=["checked"],J={class:"shadow"},Q={class:"table table-hover text-center"},X=(0,l.createElementVNode)("thead",{class:"bg-gray-700 fw-lighter text-white"},[(0,l.createElementVNode)("tr",null,[(0,l.createElementVNode)("th",{scope:"col",class:"text-capitalize"},"#"),(0,l.createElementVNode)("th",{scope:"col",class:"text-capitalize"},"name"),(0,l.createElementVNode)("th",{scope:"col",class:"text-capitalize"},"type"),(0,l.createElementVNode)("th",{scope:"col",class:"text-capitalize"},"Url"),(0,l.createElementVNode)("th",{scope:"col",class:"text-capitalize"},"Rating"),(0,l.createElementVNode)("th",{scope:"col",class:"text-capitalize"},"Author"),(0,l.createElementVNode)("th",{scope:"col",class:"text-capitalize"},"like"),(0,l.createElementVNode)("th",{scope:"col",class:"text-capitalize"},"dislike"),(0,l.createElementVNode)("th",{scope:"col",class:"text-capitalize"},"created_at"),(0,l.createElementVNode)("th",{scope:"col",class:"text-capitalize"},"time"),(0,l.createElementVNode)("th",{scope:"col",class:"text-capitalize"},"level"),(0,l.createElementVNode)("th",{scope:"col",class:"text-capitalize"},"Status"),(0,l.createElementVNode)("th",{scope:"col",class:"text-capitalize"},"Actions")])],-1),Y={scope:"row"},ee={class:"fs-6"},te={class:"fs-6"},ae={class:"fs-6"},le={class:"fs-6"},ce={class:"fs-6"},se={class:"fs-6"},re={class:"fs-6"},ne={class:"fs-6"},oe={class:"fs-6"},ie={class:"fs-6"},de={key:0,class:"badge bg-success"},ue={key:1,class:"badge bg-danger"},pe={class:""},me=["onClick"],fe=["onClick"],he={key:0,class:"bg-gray h-50 left-45 mx-auto p-3 position-fixed rounded-4 top-25 w-25",id:"form-role"},Ve={class:"d-grid gap-2"},Ee=(0,l.createElementVNode)("div",{class:"title w-100 text-center text-muted fs-5 border-bottom text-capitalize"},"Change Status for Recipes",-1),Ne={for:"username text-first fs-4"},ye={class:"d-flex gap-2"},ve=(0,l.createElementVNode)("span",null,"Author :",-1),be={class:"fw-bolder"},xe={class:"d-flex gap-2"},ke=(0,l.createElementVNode)("span",null,"Status :",-1),ge={key:0,class:"fw-bolder"},De={key:1,class:"fw-bolder"};const we={mounted:function(){this.getTableRecipes()},data:function(){return{recipes:"",recipesFilter:"",RecipeEdit:"",Show_form_status:!1,statusRecipe:!1,searchKey:"",searchValue:"",start_date:"",end_date:""}},watch:{searchValue:{handler:function(){this.searchKey="",0==this.searchValue.length&&(this.recipesFilter=Object.values(this.recipes).filter((function(e){return!0})))}}},methods:{FormEditStatus:function(e){this.Show_form_status=!0,this.RecipeEdit=e},getTableRecipes:function(e){var t=this;axios({method:"get",url:"/panel/recipes"}).then((function(e){e.data&&e.data&&(console.log(e.data),t.recipes=e.data.recipes,t.recipesFilter=e.data.recipes)})).catch((function(e){}))},changePermisison:function(e){var t=this,a=new FormData;a.append("recipe_id",e),a.append("status",this.statusRecipe),axios({method:"post",url:"/panel/recipes/"+e+"/status",data:a}).then((function(e){e.data&&e.data&&(t.$refs.status.Display(e.data.style,e.data.message,e.data.status,e.data.icon),t.Show_form_status=!1,t.getTableRecipes())})).catch((function(e){}))},deleteRecipe:function(e){var t=this,a=new FormData;a.append("recipe_id",e),a.append("_method","DELETE"),axios({method:"post",url:"/panel/recipes/delete",data:a}).then((function(e){e.data&&e.data&&(t.$refs.status.Display(e.data.style,e.data.message,e.data.status,e.data.icon),t.getTableRecipes())})).catch((function(e){}))},SortedByValue:function(){var e=this;this.searchKey="",this.recipesFilter=Object.values(this.recipes).filter((function(t){return t.name.match(e.searchValue)}))},SortedByKey:function(e,t){var a=this;this.searchKey=e,this.searchValue="",this.recipesFilter="status"===e?"Approuved"==t?Object.values(this.recipes).filter((function(e){return 1==e.is_approved})):Object.values(this.recipes).filter((function(e){return 0==e.is_approved})):"date"===e?Object.values(this.recipes).filter((function(e){return e.created_at>a.start_date&&e.created_at<a.end_date})):"author"===e?Object.values(this.recipes).sort((function(e,t){return e[a.searchKey].username<t[a.searchKey].username?-1:1})):"old"==t?Object.values(this.recipes).sort((function(e,t){return e[a.searchKey]<t[a.searchKey]?-1:1})).reverse():Object.values(this.recipes).sort((function(e,t){return e[a.searchKey]<t[a.searchKey]?-1:1}))},ClearFilter:function(){this.recipesFilter=Object.values(this.recipes).filter((function(e){return!0})),this.searchKey="",this.searchValue=""}}};const _e=(0,a(3744).Z)(we,[["render",function(e,t,a,we,_e,Se){var Re=(0,l.resolveComponent)("status"),Be=(0,l.resolveComponent)("Button"),Ce=(0,l.resolveComponent)("Option");return(0,l.openBlock)(),(0,l.createElementBlock)("div",c,[(0,l.createVNode)(Re,{ref:"status"},null,512),s,(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("div",n,[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",i,[(0,l.createElementVNode)("div",d,[(0,l.createElementVNode)("div",u,[(0,l.createVNode)(Be,{type:"button",class:"btn btn-info mb-1",onClick:t[0]||(t[0]=function(e){return Se.ClearFilter()})},{default:(0,l.withCtx)((function(){return[(0,l.createTextVNode)("Clear Filter")]})),_:1}),p,(0,l.createElementVNode)("div",m,[(0,l.createElementVNode)("div",f,[h,(0,l.createElementVNode)("input",{onClick:t[1]||(t[1]=function(e){return Se.SortedByKey("status","Approuved")}),class:"form-check-input",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault1"})]),(0,l.createElementVNode)("div",V,[E,(0,l.createElementVNode)("input",{class:"form-check-input",type:"radio",name:"flexRadioDefault",onClick:t[2]||(t[2]=function(e){return Se.SortedByKey("status","Deny")}),id:"flexRadioDefault2"})])])])]),(0,l.createElementVNode)("div",N,[(0,l.createElementVNode)("div",y,[v,b,(0,l.withDirectives)((0,l.createElementVNode)("input",{type:"text",class:"form-control",name:"username",placeholder:"username ...","onUpdate:modelValue":t[3]||(t[3]=function(e){return _e.searchValue=e}),onKeypress:t[4]||(t[4]=function(e){return Se.SortedByValue()})},null,544),[[l.vModelText,_e.searchValue]])])]),(0,l.createElementVNode)("div",x,[(0,l.createElementVNode)("div",k,[g,D,(0,l.withDirectives)((0,l.createElementVNode)("input",{type:"date",class:"form-control",name:"name",placeholder:"name ...","onUpdate:modelValue":t[5]||(t[5]=function(e){return _e.start_date=e})},null,512),[[l.vModelText,_e.start_date]]),w,(0,l.withDirectives)((0,l.createElementVNode)("input",{type:"date",class:"form-control",name:"name",placeholder:"name ...","onUpdate:modelValue":t[6]||(t[6]=function(e){return _e.end_date=e})},null,512),[[l.vModelText,_e.end_date]]),(0,l.createElementVNode)("button",{class:"btn btn-primary mt-3",onClick:t[7]||(t[7]=function(e){return Se.SortedByKey("date")}),disabled:0==_e.start_date.length||0==_e.end_date.length},"Between Dates",8,_)])]),(0,l.createElementVNode)("div",S,[(0,l.createElementVNode)("div",R,[B,(0,l.createElementVNode)("div",C,[(0,l.createElementVNode)("div",F,[K,(0,l.createElementVNode)("input",{class:"form-check-input",type:"radio",name:"flexRadioDefault1",onClick:t[8]||(t[8]=function(e){return Se.SortedByKey("created_at","new")}),id:"flexRadioDefault3"})]),(0,l.createElementVNode)("div",z,[j,(0,l.createElementVNode)("input",{class:"form-check-input",type:"radio",name:"flexRadioDefault1",onClick:t[9]||(t[9]=function(e){return Se.SortedByKey("created_at","old")}),id:"flexRadioDefault4"})])])])]),(0,l.createElementVNode)("div",T,[(0,l.createElementVNode)("div",A,[O,(0,l.createElementVNode)("div",U,[(0,l.createElementVNode)("div",L,[M,(0,l.createElementVNode)("input",{class:"form-check-input",type:"radio",name:"level",onClick:t[10]||(t[10]=function(e){return Se.SortedByKey("level")}),checked:"level"==_e.searchKey,id:"level"},null,8,P)])])])]),(0,l.createElementVNode)("div",$,[(0,l.createElementVNode)("div",q,[W,(0,l.createElementVNode)("div",Z,[(0,l.createElementVNode)("div",G,[H,(0,l.createElementVNode)("input",{class:"form-check-input",type:"radio",name:"author",id:"RadioForAuhor",onClick:t[11]||(t[11]=function(e){return Se.SortedByKey("author")}),checked:"author"==_e.searchKey},null,8,I)])])])])])])]),(0,l.createElementVNode)("div",J,[(0,l.createElementVNode)("table",Q,[X,(0,l.createElementVNode)("tbody",null,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(_e.recipesFilter,(function(t,a){return(0,l.openBlock)(),(0,l.createElementBlock)("tr",{key:t.info},[(0,l.createElementVNode)("th",Y,(0,l.toDisplayString)(a+1),1),(0,l.createElementVNode)("td",ee,(0,l.toDisplayString)(t.name),1),(0,l.createElementVNode)("td",te,(0,l.toDisplayString)(t.type_recipe.type),1),(0,l.createElementVNode)("td",ae,(0,l.toDisplayString)(t.url_video),1),(0,l.createElementVNode)("td",le,(0,l.toDisplayString)(t.rating),1),(0,l.createElementVNode)("td",ce,(0,l.toDisplayString)(t.author.username),1),(0,l.createElementVNode)("td",se,(0,l.toDisplayString)(t.like),1),(0,l.createElementVNode)("td",re,(0,l.toDisplayString)(t.dislike),1),(0,l.createElementVNode)("td",null,(0,l.toDisplayString)(e.formateDate(t.created_at)),1),(0,l.createElementVNode)("td",ne,(0,l.toDisplayString)(t.time),1),(0,l.createElementVNode)("td",oe,(0,l.toDisplayString)(t.level),1),(0,l.createElementVNode)("td",ie,[t.is_approved?((0,l.openBlock)(),(0,l.createElementBlock)("span",de,"Approved")):((0,l.openBlock)(),(0,l.createElementBlock)("span",ue,"Waiting"))]),(0,l.createElementVNode)("td",pe,[(0,l.createElementVNode)("span",{class:"fa-solid fa-pen-to-square mx-2 text-orange pointer",onClick:function(e){return Se.FormEditStatus(t)}},null,8,me),(0,l.createElementVNode)("span",{class:"fa fa-trash mx-2 text-danger pointer",onClick:function(e){return Se.deleteRecipe(t.id)}},null,8,fe)])])})),128))])]),_e.Show_form_status?((0,l.openBlock)(),(0,l.createElementBlock)("div",he,[(0,l.createElementVNode)("span",{class:"bg-body fa fa-remove p-1 pointer px-2 rounded-circle",onClick:t[12]||(t[12]=function(e){return _e.Show_form_status=!1})}),(0,l.createElementVNode)("form",Ve,[Ee,(0,l.createElementVNode)("label",Ne,(0,l.toDisplayString)(_e.RecipeEdit.name),1),(0,l.createElementVNode)("div",ye,[ve,(0,l.createElementVNode)("span",be,(0,l.toDisplayString)(_e.RecipeEdit.author.username),1)]),(0,l.createElementVNode)("div",xe,[ke,_e.RecipeEdit.is_approved?((0,l.openBlock)(),(0,l.createElementBlock)("span",ge," Approved")):((0,l.openBlock)(),(0,l.createElementBlock)("span",De," Deny"))]),(0,l.withDirectives)((0,l.createElementVNode)("select",{"onUpdate:modelValue":t[13]||(t[13]=function(e){return _e.statusRecipe=e}),class:"form-select"},[(0,l.createVNode)(Ce,{value:"1",key:""},{default:(0,l.withCtx)((function(){return[(0,l.createTextVNode)("Approved")]})),_:1}),(0,l.createVNode)(Ce,{value:"0",key:""},{default:(0,l.withCtx)((function(){return[(0,l.createTextVNode)("Deny")]})),_:1})],512),[[l.vModelSelect,_e.statusRecipe]]),(0,l.createElementVNode)("button",{class:"btn btn-primary btn-lg",type:"button",onClick:t[14]||(t[14]=function(e){return Se.changePermisison(_e.RecipeEdit.id)})}," Change status")])])):(0,l.createCommentVNode)("",!0)])])])}]])}}]);